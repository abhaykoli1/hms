{% extends "admin/base.html" %} {% block title %}Notifications{% endblock %} {%
block content %}

<!-- PAGE HEADER -->
<div class="bg-card p-3 mb-3 border border-gray-50/20 rounded-2xl shadow-soft4">
  <h5 class="mb-1">üîî Notifications</h5>
  <p class="text-muted mb-0">System notification history</p>
</div>

<!-- NOTIFICATION HISTORY -->
<div class="bg-card border border-gray-50/20 rounded-2xl shadow-soft4">
  <h6 class="mb-3 px-3 pt-3">Recent Notifications</h6>

  <table class="table table-hover align-middle">
    <thead class="table-light">
      <tr>
        <th>Title</th>
        <th>Message</th>
        <th>Sent To</th>
        <th>Date</th>
        <th>Status</th>
        <th class="text-center">Actions</th>
      </tr>
    </thead>

    <tbody>
      {% if notifications %} {% for n in notifications %}
      <tr>
        <!-- TITLE -->
        <td>{{ n.title }}</td>

        <!-- MESSAGE -->
        <td class="text-muted">
          {{ n.message[:60] }}{% if n.message|length > 60 %}...{% endif %}
        </td>

        <!-- SENT TO (SAFE) -->
        <td>
          <span class="badge bg-info text-dark"> {{ n.role }} </span>
        </td>

        <!-- DATE -->
        <td>{{ n.created_at.strftime("%d %b %Y") }}</td>

        <!-- STATUS -->
        <td>
          {% if n.is_read %}
          <span class="badge bg-secondary">Read</span>
          {% else %}
          <span class="badge bg-success">Sent</span>
          {% endif %}
        </td>

        <!-- ACTION -->
        <td class="text-center">
          <button
            class="btn btn-sm btn-outline-primary"
            title="View Notification"
          >
            üëÅÔ∏è
          </button>
        </td>
      </tr>
      {% endfor %} {% else %}
      <tr>
        <td colspan="6" class="text-center text-muted">
          No notifications found
        </td>
      </tr>
      {% endif %}
    </tbody>
  </table>
</div>

{% endblock %}
